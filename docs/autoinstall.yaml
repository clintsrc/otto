# autoinstall example with LUKS + LVM from Ubuntu docs
autoinstall:
  version: 1
  identity:
    hostname: ubuntu
    username: ubuntu
    password: "$6$MJhc4qslrbrlbLKR$fLW7SoYyhzbQewd4LewilSoXeN0uaJGdvbfci9hwueJ5wbJHldCHfH4Fw8sCDmkO0hyQWJNa8F.mXXCsnw25z/" # Replace with your hashed password
  storage:
    config:
      - type: disk
        id: disk0
        path: /dev/nvme0n1
        ptable: gpt
        wipe: superblock-recursive
        grub_device: true
        preserve: false
        partitions:
          - id: efi
            size: 512M
            type: efi
            flag: boot
            filesystem:
              type: fat32
              mount:
                point: /boot/efi
          - id: boot
            size: 550M
            type: partition
            flag: boot
            filesystem:
              type: ext2
              mount:
                point: /boot
          - id: crypt
            size: 100%FREE
            type: partition
            crypt:
              type: luks
              passphrase: your-luks-passphrase
            children:
              - id: vg0
                type: lvm_vg
                name: vg0
                children:
                  - id: lvroot
                    type: lvm_lv
                    name: lvroot
                    size: 20G
                    filesystem:
                      type: ext4
                      mount:
                        point: /
                  - id: lvswap
                    type: lvm_lv
                    name: lvswap
                    size: 2G
                    filesystem:
                      type: swap
                  - id: lvhome
                    type: lvm_lv
                    name: lvhome
                    size: 100%FREE
                    filesystem:
                      type: ext4
                      mount:
                        point: /home
